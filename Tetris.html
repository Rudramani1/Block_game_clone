<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Tetris Game</title>
    <style>
        body {
            font-family: arial;
            margin: 0;
            padding: 0;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .emscripten {
            padding-right: 0;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
        
        div.emscripten {
            text-align: center;
        }
        
        div.emscripten_border {
            border: 1px solid #333;
            display: inline-block;
        }
        
        canvas.emscripten {
            border: 0 none;
            background-color: #000;
        }
        
        /* Hide unwanted elements */
        #emscripten_logo {
            display: none !important;
        }
        
        .spinner {
            display: none !important;
        }
        
        #status {
            display: none !important;
        }
        
        #progress {
            display: none !important;
        }
        
        #output {
            display: none !important;
        }
        
        /* Style the controls */
        #controls {
            display: inline-block;
            margin-top: 20px;
            color: #fff;
        }
        
        #controls span {
            margin: 0 10px;
        }
        
        #controls input[type="checkbox"] {
            margin-right: 5px;
        }
        
        #controls input[type="button"] {
            background-color: #667eea;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        #controls input[type="button"]:hover {
            background-color: #764ba2;
        }
        
        .game-container {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="emscripten_border">
            <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex="-1"></canvas>
        </div>
        
        <div id="controls">
            <span>
                <input type="checkbox" id="resize">
                <label for="resize">Resize canvas</label>
            </span>
            <span>
                <input type="checkbox" id="pointerLock" checked>
                <label for="pointerLock">Lock/hide mouse pointer</label>
            </span>
            <span>
                <input type="button" 
                       onclick='Module.requestFullscreen(document.getElementById("pointerLock").checked, document.getElementById("resize").checked)' 
                       value="Fullscreen">
            </span>
        </div>
    </div>

    <script>
        var canvasElement = document.getElementById("canvas");
        
        canvasElement.addEventListener("webglcontextlost", (e) => {
            alert("WebGL context lost. You will need to reload the page.");
            e.preventDefault();
        }, false);
        
        var Module = {
            print: (...args) => {
                console.log(...args);
            },
            canvas: canvasElement,
            setStatus: (text) => {
                // Status updates are now silent
                console.log(text);
            },
            totalDependencies: 0,
            monitorRunDependencies: (left) => {
                this.totalDependencies = Math.max(this.totalDependencies, left);
                Module.setStatus(left ? 
                    "Preparing... (" + (this.totalDependencies - left) + "/" + this.totalDependencies + ")" : 
                    "All downloads complete.");
            }
        };
        
        Module.setStatus("Downloading...");
        
        window.onerror = (event) => {
            Module.setStatus("Exception thrown, see JavaScript console");
            Module.setStatus = (text) => {
                if (text) console.error("[post-exception status] " + text);
            };
        };
    </script>
    <script async src="Tetris.js"></script>
</body>
</html>
